<?xml version="1.0" ?>

<robot name="bar" xmlns:xacro="http://www.ros.org/wiki/xacro">



  <xacro:macro name="bar_v0" params="parent *joint_origin">

<joint name="joint1" type="continuous">
    <parent link="${parent}"/>
    <child link="link1"/>
    <xacro:insert_block name="joint_origin"/>
    <axis xyz="0 1 0" />
  </joint>



<transmission name="trans_1">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="joint1">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      </joint>
      <actuator name="motor_1">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>
    
     
  <link name="link1">
    <inertial>
      <mass value="0.025" />
      <inertia ixx="5.8083e-4" ixy="0" ixz="0" iyy="3.0833e-5" iyz="0" izz="5.9083e-4" />
    </inertial>
  </link>


<joint name="joint2" type="continuous">
    <parent link="link1"/>
    <child link="link2"/>
    <axis xyz="0 0 1" />
    <origin xyz="0 0 0" rpy="0 0 0" />
  </joint>

<transmission name="trans_2">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="joint2">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      </joint>
      <actuator name="motor_2">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>

  <link name="link2">
    <inertial>
      <mass value="0.025" />
      <inertia ixx="5.8083e-4" ixy="0" ixz="0" iyy="3.0833e-5" iyz="0" izz="5.9083e-4" />
    </inertial>  
  </link>

  <joint name="joint3" type="continuous">
    <parent link="link2"/>
    <child link="bar0"/>
    <axis xyz="1 0 0" />
    <origin xyz="0 0 0" rpy="0 0 0" />
  </joint>

<transmission name="trans_3">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="joint3">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      </joint>
      <actuator name="motor_3">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>


<link name="bar0">
	<visual>
            <origin rpy="0 0 0" xyz="0 0 0.025"/>
            <geometry>
                <cylinder radius="0.002" length="0.05"/>
            </geometry>
        </visual>
	      <collision>
            <origin rpy="0 0 0" xyz="0 0 0.025"/>
            <geometry>
                <cylinder radius="0.002" length="0.05"/>
            </geometry>
        </collision>
	  <inertial>
		<origin xyz="0 0 0.025"/>
		<mass value="4"/>
		<inertia ixx="0.00084" ixy="0" ixz="0" iyy="0.00084" iyz="0" izz="0.000008"/>
	  </inertial>
	</link>

  <joint name="cable" type="prismatic">
    <parent link="bar0"/>
    <child link="bar"/>
    <axis xyz="0 0 1" />
    <origin xyz="0 0 0.05" rpy="0 0 0" />
   <limit effort="10000" velocity="10" lower="0" upper = "2.0"/>
   <dynamics damping="0.005" friction="0.1"/> 
  </joint>

<transmission name="trans_c">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="cable">
        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      </joint>
      <actuator name="motor_c">
        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>


<link name="bar">
	<visual>
            <origin rpy="0 0 0" xyz="0 0 0.25"/>
            <geometry>
                <cylinder radius="0.002" length="0.5"/>
            </geometry>
        </visual>
	      <collision>
            <origin rpy="0 0 0" xyz="0 0 0.25"/>
            <geometry>
                <cylinder radius="0.002" length="0.5"/>
            </geometry>
        </collision>
	  <inertial>
		<origin xyz="0 0 0.25"/>
		<mass value="4"/>
		<inertia ixx="0.084" ixy="0" ixz="0" iyy="0.084" iyz="0" izz="0.000008"/>
	  </inertial>
	</link>


   </xacro:macro>
 
</robot>
